"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _index = _interopRequireDefault(require("./index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @deprecated Use the Messages v1.0 API via the Messages object
 */
class Channel {
  static get PATH() {
    return "/v0.1/messages";
  }

  constructor(credentials, options) {
    this.creds = credentials;
    this.options = options; // Used to facilitate testing of the call to the underlying object

    this._nexmo = this.options.nexmoOverride || _index.default;

    this._nexmo.initialize(this.creds.apiKey, this.creds.apiSecret, this.options);
  }

  send(to, from, message, callback) {
    var params = {
      to: to,
      from: from,
      message: message
    };
    return this.options.api.post(Channel.PATH, params, callback, true, {
      "Content-Type": "application/json"
    });
  }

}

var _default = Channel;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDaGFubmVsIiwiUEFUSCIsImNvbnN0cnVjdG9yIiwiY3JlZGVudGlhbHMiLCJvcHRpb25zIiwiY3JlZHMiLCJfbmV4bW8iLCJuZXhtb092ZXJyaWRlIiwibmV4bW8iLCJpbml0aWFsaXplIiwiYXBpS2V5IiwiYXBpU2VjcmV0Iiwic2VuZCIsInRvIiwiZnJvbSIsIm1lc3NhZ2UiLCJjYWxsYmFjayIsInBhcmFtcyIsImFwaSIsInBvc3QiXSwic291cmNlcyI6WyIuLi9zcmMvQ2hhbm5lbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IG5leG1vIGZyb20gXCIuL2luZGV4XCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBNZXNzYWdlcyB2MS4wIEFQSSB2aWEgdGhlIE1lc3NhZ2VzIG9iamVjdFxuICovXG5jbGFzcyBDaGFubmVsIHtcbiAgc3RhdGljIGdldCBQQVRIKCkge1xuICAgIHJldHVybiBcIi92MC4xL21lc3NhZ2VzXCI7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihjcmVkZW50aWFscywgb3B0aW9ucykge1xuICAgIHRoaXMuY3JlZHMgPSBjcmVkZW50aWFscztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgLy8gVXNlZCB0byBmYWNpbGl0YXRlIHRlc3Rpbmcgb2YgdGhlIGNhbGwgdG8gdGhlIHVuZGVybHlpbmcgb2JqZWN0XG4gICAgdGhpcy5fbmV4bW8gPSB0aGlzLm9wdGlvbnMubmV4bW9PdmVycmlkZSB8fCBuZXhtbztcblxuICAgIHRoaXMuX25leG1vLmluaXRpYWxpemUoXG4gICAgICB0aGlzLmNyZWRzLmFwaUtleSxcbiAgICAgIHRoaXMuY3JlZHMuYXBpU2VjcmV0LFxuICAgICAgdGhpcy5vcHRpb25zXG4gICAgKTtcbiAgfVxuXG4gIHNlbmQodG8sIGZyb20sIG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgdG86IHRvLFxuICAgICAgZnJvbTogZnJvbSxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBpLnBvc3QoQ2hhbm5lbC5QQVRILCBwYXJhbXMsIGNhbGxiYWNrLCB0cnVlLCB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFubmVsO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsT0FBTixDQUFjO0VBQ0csV0FBSkMsSUFBSSxHQUFHO0lBQ2hCLE9BQU8sZ0JBQVA7RUFDRDs7RUFFREMsV0FBVyxDQUFDQyxXQUFELEVBQWNDLE9BQWQsRUFBdUI7SUFDaEMsS0FBS0MsS0FBTCxHQUFhRixXQUFiO0lBQ0EsS0FBS0MsT0FBTCxHQUFlQSxPQUFmLENBRmdDLENBSWhDOztJQUNBLEtBQUtFLE1BQUwsR0FBYyxLQUFLRixPQUFMLENBQWFHLGFBQWIsSUFBOEJDLGNBQTVDOztJQUVBLEtBQUtGLE1BQUwsQ0FBWUcsVUFBWixDQUNFLEtBQUtKLEtBQUwsQ0FBV0ssTUFEYixFQUVFLEtBQUtMLEtBQUwsQ0FBV00sU0FGYixFQUdFLEtBQUtQLE9BSFA7RUFLRDs7RUFFRFEsSUFBSSxDQUFDQyxFQUFELEVBQUtDLElBQUwsRUFBV0MsT0FBWCxFQUFvQkMsUUFBcEIsRUFBOEI7SUFDaEMsSUFBTUMsTUFBTSxHQUFHO01BQ2JKLEVBQUUsRUFBRUEsRUFEUztNQUViQyxJQUFJLEVBQUVBLElBRk87TUFHYkMsT0FBTyxFQUFFQTtJQUhJLENBQWY7SUFNQSxPQUFPLEtBQUtYLE9BQUwsQ0FBYWMsR0FBYixDQUFpQkMsSUFBakIsQ0FBc0JuQixPQUFPLENBQUNDLElBQTlCLEVBQW9DZ0IsTUFBcEMsRUFBNENELFFBQTVDLEVBQXNELElBQXRELEVBQTREO01BQ2pFLGdCQUFnQjtJQURpRCxDQUE1RCxDQUFQO0VBR0Q7O0FBN0JXOztlQWdDQ2hCLE8ifQ==