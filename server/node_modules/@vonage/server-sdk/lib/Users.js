"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _index = _interopRequireDefault(require("./index"));

var _Utils = _interopRequireDefault(require("./Utils"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Provides access to the `users` endpoint.
 */
class Users {
  static get PATH() {
    return "/beta/users";
  }

  static get BETA2_PATH() {
    return "/beta2/users";
  }
  /**
   * @param {Credentials} credentials
   *    credentials to be used when interacting with the API.
   * @param {Object} options
   *    Additional Users options.
   */


  constructor(credentials) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.creds = credentials;
    this.options = options;
  }
  /**
   * Create a new user.
   *
   * @param {Object} params - Parameters used when creating the user. See https://ea.developer.nexmo.com/api/conversation#create-a-user for more information.
   * @param {function} callback - function to be called when the request completes.
   */


  create(params, callback) {
    params = JSON.stringify(params);
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: Users.PATH,
      method: "POST",
      body: params,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Get an existing user.
   *
   * @param {string|object} query - The unique identifier for the user to retrieve
   *               or a set of filter parameters for the query. For more information
   *               see https://ea.developer.nexmo.com/api/conversation#retrieve-all-users
   * @param {function} callback - function to be called when the request completes.
   */


  get(query, callback) {
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: _Utils.default.createPathWithQuery(Users.BETA2_PATH, query),
      method: "GET",
      body: undefined,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Get next page of users or conversations for a user.
   *
   * @param {object} response - The response from a paginated users or conversations list
   *               see https://ea.developer.nexmo.com/api/conversation#retrieve-all-users
   * @param {function} callback - function to be called when the request completes.
   */


  next(response, callback) {
    if (response._links.next) {
      var userId = response._links.next.href.match(/USR-[^/]*/g);

      if (userId) {
        this.getConversations(userId[0], _Utils.default.getQuery(response._links.next.href), callback);
      } else {
        this.get(_Utils.default.getQuery(response._links.next.href), callback);
      }
    } else {
      var error = new Error("The response doesn't have a next page.");
      callback(error, null);
    }
  }
  /**
   * Get previous page of users or conversations for a user.
   *
   * @param {object} response - The response from a paginated users or conversations list
   *               see https://ea.developer.nexmo.com/api/conversation#retrieve-all-users
   * @param {function} callback - function to be called when the request completes.
   */


  prev(response, callback) {
    if (response._links.prev) {
      var userId = response._links.prev.href.match(/USR-[^/]*/g);

      if (userId) {
        this.getConversations(userId[0], _Utils.default.getQuery(response._links.prev.href), callback);
      } else {
        this.get(_Utils.default.getQuery(response._links.prev.href), callback);
      }
    } else {
      var error = new Error("The response doesn't have a previous page.");
      callback(error, null);
    }
  }
  /**
   * Get an conversations for an existing user.
   *
   * @param {string} userId - The unique identifier for the user to retrieve conversations for
   * @param {function} callback - function to be called when the request completes.
   */


  getConversations(userId, query, callback) {
    // backwards compatibility to 2.5.4-beta-1. Remove for 3.0.0
    if (typeof query === "function") {
      callback = query;
      query = {};
    }

    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: _Utils.default.createPathWithQuery("".concat(Users.BETA2_PATH, "/").concat(userId, "/conversations"), query),
      method: "GET",
      body: undefined,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Update an existing user.
   *
   * @param {string} userId - The unique identifier for the user to update.
   * @param {Object} params - Parameters used when updating the conversation.
   * @param {function} callback - function to be called when the request completes.
   */


  update(userId, params, callback) {
    params = JSON.stringify(params);
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: "".concat(Users.PATH, "/").concat(userId),
      method: "PUT",
      body: params,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Deleta an existing user.
   *
   * @param {string} userId - The unique identifier for the user to delete.
   * @param {function} callback - function to be called when the request completes.
   */


  delete(userId, callback) {
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: "".concat(Users.PATH, "/").concat(userId),
      method: "DELETE",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }

}

var _default = Users;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VycyIsIlBBVEgiLCJCRVRBMl9QQVRIIiwiY29uc3RydWN0b3IiLCJjcmVkZW50aWFscyIsIm9wdGlvbnMiLCJjcmVkcyIsImNyZWF0ZSIsInBhcmFtcyIsImNhbGxiYWNrIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbmZpZyIsImhvc3QiLCJhcGlIb3N0IiwicGF0aCIsIm1ldGhvZCIsImJvZHkiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImdlbmVyYXRlSnd0IiwiaHR0cENsaWVudCIsInJlcXVlc3QiLCJnZXQiLCJxdWVyeSIsIlV0aWxzIiwiY3JlYXRlUGF0aFdpdGhRdWVyeSIsInVuZGVmaW5lZCIsIm5leHQiLCJyZXNwb25zZSIsIl9saW5rcyIsInVzZXJJZCIsImhyZWYiLCJtYXRjaCIsImdldENvbnZlcnNhdGlvbnMiLCJnZXRRdWVyeSIsImVycm9yIiwiRXJyb3IiLCJwcmV2IiwidXBkYXRlIiwiZGVsZXRlIl0sInNvdXJjZXMiOlsiLi4vc3JjL1VzZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgbmV4bW8gZnJvbSBcIi4vaW5kZXhcIjtcblxuaW1wb3J0IFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XG5cbi8qKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBgdXNlcnNgIGVuZHBvaW50LlxuICovXG5jbGFzcyBVc2VycyB7XG4gIHN0YXRpYyBnZXQgUEFUSCgpIHtcbiAgICByZXR1cm4gXCIvYmV0YS91c2Vyc1wiO1xuICB9XG5cbiAgc3RhdGljIGdldCBCRVRBMl9QQVRIKCkge1xuICAgIHJldHVybiBcIi9iZXRhMi91c2Vyc1wiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q3JlZGVudGlhbHN9IGNyZWRlbnRpYWxzXG4gICAqICAgIGNyZWRlbnRpYWxzIHRvIGJlIHVzZWQgd2hlbiBpbnRlcmFjdGluZyB3aXRoIHRoZSBBUEkuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqICAgIEFkZGl0aW9uYWwgVXNlcnMgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNyZWRlbnRpYWxzLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmNyZWRzID0gY3JlZGVudGlhbHM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFBhcmFtZXRlcnMgdXNlZCB3aGVuIGNyZWF0aW5nIHRoZSB1c2VyLiBTZWUgaHR0cHM6Ly9lYS5kZXZlbG9wZXIubmV4bW8uY29tL2FwaS9jb252ZXJzYXRpb24jY3JlYXRlLWEtdXNlciBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gICAqL1xuICBjcmVhdGUocGFyYW1zLCBjYWxsYmFjaykge1xuICAgIHBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcyk7XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgaG9zdDogdGhpcy5vcHRpb25zLmFwaUhvc3QgfHwgXCJhcGkubmV4bW8uY29tXCIsXG4gICAgICBwYXRoOiBVc2Vycy5QQVRILFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IHBhcmFtcyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmNyZWRzLmdlbmVyYXRlSnd0KCl9YCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLm9wdGlvbnMuaHR0cENsaWVudC5yZXF1ZXN0KGNvbmZpZywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBleGlzdGluZyB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHF1ZXJ5IC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgdXNlciB0byByZXRyaWV2ZVxuICAgKiAgICAgICAgICAgICAgIG9yIGEgc2V0IG9mIGZpbHRlciBwYXJhbWV0ZXJzIGZvciB0aGUgcXVlcnkuIEZvciBtb3JlIGluZm9ybWF0aW9uXG4gICAqICAgICAgICAgICAgICAgc2VlIGh0dHBzOi8vZWEuZGV2ZWxvcGVyLm5leG1vLmNvbS9hcGkvY29udmVyc2F0aW9uI3JldHJpZXZlLWFsbC11c2Vyc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IGNvbXBsZXRlcy5cbiAgICovXG4gIGdldChxdWVyeSwgY2FsbGJhY2spIHtcbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgaG9zdDogdGhpcy5vcHRpb25zLmFwaUhvc3QgfHwgXCJhcGkubmV4bW8uY29tXCIsXG4gICAgICBwYXRoOiBVdGlscy5jcmVhdGVQYXRoV2l0aFF1ZXJ5KFVzZXJzLkJFVEEyX1BBVEgsIHF1ZXJ5KSxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGJvZHk6IHVuZGVmaW5lZCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmNyZWRzLmdlbmVyYXRlSnd0KCl9YCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLm9wdGlvbnMuaHR0cENsaWVudC5yZXF1ZXN0KGNvbmZpZywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBuZXh0IHBhZ2Ugb2YgdXNlcnMgb3IgY29udmVyc2F0aW9ucyBmb3IgYSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UgZnJvbSBhIHBhZ2luYXRlZCB1c2VycyBvciBjb252ZXJzYXRpb25zIGxpc3RcbiAgICogICAgICAgICAgICAgICBzZWUgaHR0cHM6Ly9lYS5kZXZlbG9wZXIubmV4bW8uY29tL2FwaS9jb252ZXJzYXRpb24jcmV0cmlldmUtYWxsLXVzZXJzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICAgKi9cbiAgbmV4dChyZXNwb25zZSwgY2FsbGJhY2spIHtcbiAgICBpZiAocmVzcG9uc2UuX2xpbmtzLm5leHQpIHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHJlc3BvbnNlLl9saW5rcy5uZXh0LmhyZWYubWF0Y2goL1VTUi1bXi9dKi9nKTtcbiAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5nZXRDb252ZXJzYXRpb25zKFxuICAgICAgICAgIHVzZXJJZFswXSxcbiAgICAgICAgICBVdGlscy5nZXRRdWVyeShyZXNwb25zZS5fbGlua3MubmV4dC5ocmVmKSxcbiAgICAgICAgICBjYWxsYmFja1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nZXQoVXRpbHMuZ2V0UXVlcnkocmVzcG9uc2UuX2xpbmtzLm5leHQuaHJlZiksIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgbmV4dCBwYWdlLlwiKTtcbiAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHByZXZpb3VzIHBhZ2Ugb2YgdXNlcnMgb3IgY29udmVyc2F0aW9ucyBmb3IgYSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UgZnJvbSBhIHBhZ2luYXRlZCB1c2VycyBvciBjb252ZXJzYXRpb25zIGxpc3RcbiAgICogICAgICAgICAgICAgICBzZWUgaHR0cHM6Ly9lYS5kZXZlbG9wZXIubmV4bW8uY29tL2FwaS9jb252ZXJzYXRpb24jcmV0cmlldmUtYWxsLXVzZXJzXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICAgKi9cbiAgcHJldihyZXNwb25zZSwgY2FsbGJhY2spIHtcbiAgICBpZiAocmVzcG9uc2UuX2xpbmtzLnByZXYpIHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHJlc3BvbnNlLl9saW5rcy5wcmV2LmhyZWYubWF0Y2goL1VTUi1bXi9dKi9nKTtcbiAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5nZXRDb252ZXJzYXRpb25zKFxuICAgICAgICAgIHVzZXJJZFswXSxcbiAgICAgICAgICBVdGlscy5nZXRRdWVyeShyZXNwb25zZS5fbGlua3MucHJldi5ocmVmKSxcbiAgICAgICAgICBjYWxsYmFja1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nZXQoVXRpbHMuZ2V0UXVlcnkocmVzcG9uc2UuX2xpbmtzLnByZXYuaHJlZiksIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgcHJldmlvdXMgcGFnZS5cIik7XG4gICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBjb252ZXJzYXRpb25zIGZvciBhbiBleGlzdGluZyB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgdXNlciB0byByZXRyaWV2ZSBjb252ZXJzYXRpb25zIGZvclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IGNvbXBsZXRlcy5cbiAgICovXG4gIGdldENvbnZlcnNhdGlvbnModXNlcklkLCBxdWVyeSwgY2FsbGJhY2spIHtcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byAyLjUuNC1iZXRhLTEuIFJlbW92ZSBmb3IgMy4wLjBcbiAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNhbGxiYWNrID0gcXVlcnk7XG4gICAgICBxdWVyeSA9IHt9O1xuICAgIH1cblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBob3N0OiB0aGlzLm9wdGlvbnMuYXBpSG9zdCB8fCBcImFwaS5uZXhtby5jb21cIixcbiAgICAgIHBhdGg6IFV0aWxzLmNyZWF0ZVBhdGhXaXRoUXVlcnkoXG4gICAgICAgIGAke1VzZXJzLkJFVEEyX1BBVEh9LyR7dXNlcklkfS9jb252ZXJzYXRpb25zYCxcbiAgICAgICAgcXVlcnlcbiAgICAgICksXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBib2R5OiB1bmRlZmluZWQsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5jcmVkcy5nZW5lcmF0ZUp3dCgpfWAsXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5vcHRpb25zLmh0dHBDbGllbnQucmVxdWVzdChjb25maWcsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHVzZXIgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gUGFyYW1ldGVycyB1c2VkIHdoZW4gdXBkYXRpbmcgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gICAqL1xuICB1cGRhdGUodXNlcklkLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgcGFyYW1zID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zKTtcblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBob3N0OiB0aGlzLm9wdGlvbnMuYXBpSG9zdCB8fCBcImFwaS5uZXhtby5jb21cIixcbiAgICAgIHBhdGg6IGAke1VzZXJzLlBBVEh9LyR7dXNlcklkfWAsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBib2R5OiBwYXJhbXMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5jcmVkcy5nZW5lcmF0ZUp3dCgpfWAsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLm9wdGlvbnMuaHR0cENsaWVudC5yZXF1ZXN0KGNvbmZpZywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0YSBhbiBleGlzdGluZyB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgdXNlciB0byBkZWxldGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICAgKi9cbiAgZGVsZXRlKHVzZXJJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgaG9zdDogdGhpcy5vcHRpb25zLmFwaUhvc3QgfHwgXCJhcGkubmV4bW8uY29tXCIsXG4gICAgICBwYXRoOiBgJHtVc2Vycy5QQVRIfS8ke3VzZXJJZH1gLFxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuY3JlZHMuZ2VuZXJhdGVKd3QoKX1gLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdGhpcy5vcHRpb25zLmh0dHBDbGllbnQucmVxdWVzdChjb25maWcsIGNhbGxiYWNrKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VycztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFFQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLEtBQU4sQ0FBWTtFQUNLLFdBQUpDLElBQUksR0FBRztJQUNoQixPQUFPLGFBQVA7RUFDRDs7RUFFb0IsV0FBVkMsVUFBVSxHQUFHO0lBQ3RCLE9BQU8sY0FBUDtFQUNEO0VBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7RUFDRUMsV0FBVyxDQUFDQyxXQUFELEVBQTRCO0lBQUEsSUFBZEMsT0FBYyx1RUFBSixFQUFJO0lBQ3JDLEtBQUtDLEtBQUwsR0FBYUYsV0FBYjtJQUNBLEtBQUtDLE9BQUwsR0FBZUEsT0FBZjtFQUNEO0VBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7RUFDRUUsTUFBTSxDQUFDQyxNQUFELEVBQVNDLFFBQVQsRUFBbUI7SUFDdkJELE1BQU0sR0FBR0UsSUFBSSxDQUFDQyxTQUFMLENBQWVILE1BQWYsQ0FBVDtJQUVBLElBQUlJLE1BQU0sR0FBRztNQUNYQyxJQUFJLEVBQUUsS0FBS1IsT0FBTCxDQUFhUyxPQUFiLElBQXdCLGVBRG5CO01BRVhDLElBQUksRUFBRWYsS0FBSyxDQUFDQyxJQUZEO01BR1hlLE1BQU0sRUFBRSxNQUhHO01BSVhDLElBQUksRUFBRVQsTUFKSztNQUtY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