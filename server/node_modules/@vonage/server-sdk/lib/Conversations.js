"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _index = _interopRequireDefault(require("./index"));

var _Utils = _interopRequireDefault(require("./Utils"));

var _Members = _interopRequireDefault(require("./Members"));

var _Events = _interopRequireDefault(require("./Events"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Provides access to the `conversations` endpoint.
 */
class Conversations {
  static get PATH() {
    return "/beta/conversations";
  }

  static get BETA2_PATH() {
    return "/beta2/conversations";
  }

  static get V1_PATH() {
    return "/v1/conversations";
  }
  /**
   * @param {Credentials} credentials
   *    credentials to be used when interacting with the API.
   * @param {Object} options
   *    Additional Conversations options.
   */


  constructor(credentials) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.creds = credentials;
    this.options = options;
    /**
     * @type Members
     */

    this.members = new _Members.default(this.creds, this.options);
    /**
     * @type Events
     */

    this.events = new _Events.default(this.creds, this.options);
  }
  /**
   * Create a new conversation.
   *
   * @param {Object} params - Parameters used when creating the conversation. See https://ea.developer.nexmo.com/api/conversation#create-a-conversation for more information.
   * @param {function} callback - function to be called when the request completes.
   */


  create(params, callback) {
    params = JSON.stringify(params);
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: Conversations.PATH,
      method: "POST",
      body: params,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Get an existing conversation.
   *
   * @param {string|object} query - The unique identifier for the conversation to retrieve
   *               or a set of filter parameters for the query. For more information
   *               see https://ea.developer.nexmo.com/api/conversation#retrieve-a-conversation
   * @param {function} callback - function to be called when the request completes.
   */


  get(query, callback) {
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: typeof query === "string" ? "".concat(Conversations.PATH, "/").concat(query) : _Utils.default.createPathWithQuery(Conversations.BETA2_PATH, query),
      method: "GET",
      body: undefined,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Get next page of conversations.
   *
   * @param {object} response - The response from a paginated conversations list
   *               see https://ea.developer.nexmo.com/api/conversation#listConversations
   * @param {function} callback - function to be called when the request completes.
   */


  next(response, callback) {
    if (response._links.next) {
      this.get(_Utils.default.getQuery(response._links.next.href), callback);
    } else {
      var error = new Error("The response doesn't have a next page.");
      callback(error, null);
    }
  }
  /**
   * Get previous page of conversations.
   *
   * @param {object} response - The response from a paginated conversations list
   *               see https://ea.developer.nexmo.com/api/conversation#listConversations
   * @param {function} callback - function to be called when the request completes.
   */


  prev(response, callback) {
    if (response._links.prev) {
      this.get(_Utils.default.getQuery(response._links.prev.href), callback);
    } else {
      var error = new Error("The response doesn't have a previous page.");
      callback(error, null);
    }
  }
  /**
   * Update an existing conversation.
   *
   * @param {string} conversationId - The unique identifier for the conversation to update.
   * @param {Object} params - Parameters used when updating the conversation.
   * @param {function} callback - function to be called when the request completes.
   */


  update(conversationId, params, callback) {
    params = JSON.stringify(params);
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: "".concat(Conversations.PATH, "/").concat(conversationId),
      method: "PUT",
      body: params,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Record an existing conversation.
   *
   * @param {string} conversationId - The unique identifier for the conversation to record.
   * @param {Object} params - Parameters used when recording the conversation.
   * @param {function} callback - function to be called when the request completes.
   */


  record(conversationId, params, callback) {
    params = JSON.stringify(params);
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: "".concat(Conversations.V1_PATH, "/").concat(conversationId, "/record"),
      method: "PUT",
      body: params,
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }
  /**
   * Deleta an existing conversation.
   *
   * @param {string} conversationId - The unique identifier for the conversation to delete.
   * @param {function} callback - function to be called when the request completes.
   */


  delete(conversationId, callback) {
    var config = {
      host: this.options.apiHost || "api.nexmo.com",
      path: "".concat(Conversations.PATH, "/").concat(conversationId),
      method: "DELETE",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer ".concat(this.creds.generateJwt())
      }
    };
    this.options.httpClient.request(config, callback);
  }

}

var _default = Conversations;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb252ZXJzYXRpb25zIiwiUEFUSCIsIkJFVEEyX1BBVEgiLCJWMV9QQVRIIiwiY29uc3RydWN0b3IiLCJjcmVkZW50aWFscyIsIm9wdGlvbnMiLCJjcmVkcyIsIm1lbWJlcnMiLCJNZW1iZXJzIiwiZXZlbnRzIiwiRXZlbnRzIiwiY3JlYXRlIiwicGFyYW1zIiwiY2FsbGJhY2siLCJKU09OIiwic3RyaW5naWZ5IiwiY29uZmlnIiwiaG9zdCIsImFwaUhvc3QiLCJwYXRoIiwibWV0aG9kIiwiYm9keSIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZ2VuZXJhdGVKd3QiLCJodHRwQ2xpZW50IiwicmVxdWVzdCIsImdldCIsInF1ZXJ5IiwiVXRpbHMiLCJjcmVhdGVQYXRoV2l0aFF1ZXJ5IiwidW5kZWZpbmVkIiwibmV4dCIsInJlc3BvbnNlIiwiX2xpbmtzIiwiZ2V0UXVlcnkiLCJocmVmIiwiZXJyb3IiLCJFcnJvciIsInByZXYiLCJ1cGRhdGUiLCJjb252ZXJzYXRpb25JZCIsInJlY29yZCIsImRlbGV0ZSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9Db252ZXJzYXRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgdm9uYWdlIGZyb20gXCIuL2luZGV4XCI7XG5cbmltcG9ydCBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xuXG5pbXBvcnQgTWVtYmVycyBmcm9tIFwiLi9NZW1iZXJzXCI7XG5pbXBvcnQgRXZlbnRzIGZyb20gXCIuL0V2ZW50c1wiO1xuXG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgYGNvbnZlcnNhdGlvbnNgIGVuZHBvaW50LlxuICovXG5jbGFzcyBDb252ZXJzYXRpb25zIHtcbiAgc3RhdGljIGdldCBQQVRIKCkge1xuICAgIHJldHVybiBcIi9iZXRhL2NvbnZlcnNhdGlvbnNcIjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgQkVUQTJfUEFUSCgpIHtcbiAgICByZXR1cm4gXCIvYmV0YTIvY29udmVyc2F0aW9uc1wiO1xuICB9XG5cbiAgc3RhdGljIGdldCBWMV9QQVRIKCkge1xuICAgIHJldHVybiBcIi92MS9jb252ZXJzYXRpb25zXCI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDcmVkZW50aWFsc30gY3JlZGVudGlhbHNcbiAgICogICAgY3JlZGVudGlhbHMgdG8gYmUgdXNlZCB3aGVuIGludGVyYWN0aW5nIHdpdGggdGhlIEFQSS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogICAgQWRkaXRpb25hbCBDb252ZXJzYXRpb25zIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjcmVkZW50aWFscywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5jcmVkcyA9IGNyZWRlbnRpYWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSBNZW1iZXJzXG4gICAgICovXG4gICAgdGhpcy5tZW1iZXJzID0gbmV3IE1lbWJlcnModGhpcy5jcmVkcywgdGhpcy5vcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIEV2ZW50c1xuICAgICAqL1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50cyh0aGlzLmNyZWRzLCB0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjb252ZXJzYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBQYXJhbWV0ZXJzIHVzZWQgd2hlbiBjcmVhdGluZyB0aGUgY29udmVyc2F0aW9uLiBTZWUgaHR0cHM6Ly9lYS5kZXZlbG9wZXIubmV4bW8uY29tL2FwaS9jb252ZXJzYXRpb24jY3JlYXRlLWEtY29udmVyc2F0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IGNvbXBsZXRlcy5cbiAgICovXG4gIGNyZWF0ZShwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgcGFyYW1zID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zKTtcblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBob3N0OiB0aGlzLm9wdGlvbnMuYXBpSG9zdCB8fCBcImFwaS5uZXhtby5jb21cIixcbiAgICAgIHBhdGg6IENvbnZlcnNhdGlvbnMuUEFUSCxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBwYXJhbXMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5jcmVkcy5nZW5lcmF0ZUp3dCgpfWAsXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5vcHRpb25zLmh0dHBDbGllbnQucmVxdWVzdChjb25maWcsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gZXhpc3RpbmcgY29udmVyc2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHF1ZXJ5IC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY29udmVyc2F0aW9uIHRvIHJldHJpZXZlXG4gICAqICAgICAgICAgICAgICAgb3IgYSBzZXQgb2YgZmlsdGVyIHBhcmFtZXRlcnMgZm9yIHRoZSBxdWVyeS4gRm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICogICAgICAgICAgICAgICBzZWUgaHR0cHM6Ly9lYS5kZXZlbG9wZXIubmV4bW8uY29tL2FwaS9jb252ZXJzYXRpb24jcmV0cmlldmUtYS1jb252ZXJzYXRpb25cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gICAqL1xuICBnZXQocXVlcnksIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgIGhvc3Q6IHRoaXMub3B0aW9ucy5hcGlIb3N0IHx8IFwiYXBpLm5leG1vLmNvbVwiLFxuICAgICAgcGF0aDpcbiAgICAgICAgdHlwZW9mIHF1ZXJ5ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgPyBgJHtDb252ZXJzYXRpb25zLlBBVEh9LyR7cXVlcnl9YFxuICAgICAgICAgIDogVXRpbHMuY3JlYXRlUGF0aFdpdGhRdWVyeShDb252ZXJzYXRpb25zLkJFVEEyX1BBVEgsIHF1ZXJ5KSxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGJvZHk6IHVuZGVmaW5lZCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmNyZWRzLmdlbmVyYXRlSnd0KCl9YCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLm9wdGlvbnMuaHR0cENsaWVudC5yZXF1ZXN0KGNvbmZpZywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBuZXh0IHBhZ2Ugb2YgY29udmVyc2F0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlIGZyb20gYSBwYWdpbmF0ZWQgY29udmVyc2F0aW9ucyBsaXN0XG4gICAqICAgICAgICAgICAgICAgc2VlIGh0dHBzOi8vZWEuZGV2ZWxvcGVyLm5leG1vLmNvbS9hcGkvY29udmVyc2F0aW9uI2xpc3RDb252ZXJzYXRpb25zXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICAgKi9cbiAgbmV4dChyZXNwb25zZSwgY2FsbGJhY2spIHtcbiAgICBpZiAocmVzcG9uc2UuX2xpbmtzLm5leHQpIHtcbiAgICAgIHRoaXMuZ2V0KFV0aWxzLmdldFF1ZXJ5KHJlc3BvbnNlLl9saW5rcy5uZXh0LmhyZWYpLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGRvZXNuJ3QgaGF2ZSBhIG5leHQgcGFnZS5cIik7XG4gICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwcmV2aW91cyBwYWdlIG9mIGNvbnZlcnNhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSByZXNwb25zZSBmcm9tIGEgcGFnaW5hdGVkIGNvbnZlcnNhdGlvbnMgbGlzdFxuICAgKiAgICAgICAgICAgICAgIHNlZSBodHRwczovL2VhLmRldmVsb3Blci5uZXhtby5jb20vYXBpL2NvbnZlcnNhdGlvbiNsaXN0Q29udmVyc2F0aW9uc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IGNvbXBsZXRlcy5cbiAgICovXG4gIHByZXYocmVzcG9uc2UsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHJlc3BvbnNlLl9saW5rcy5wcmV2KSB7XG4gICAgICB0aGlzLmdldChVdGlscy5nZXRRdWVyeShyZXNwb25zZS5fbGlua3MucHJldi5ocmVmKSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBkb2Vzbid0IGhhdmUgYSBwcmV2aW91cyBwYWdlLlwiKTtcbiAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIGNvbnZlcnNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY29udmVyc2F0aW9uIHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFBhcmFtZXRlcnMgdXNlZCB3aGVuIHVwZGF0aW5nIHRoZSBjb252ZXJzYXRpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICAgKi9cbiAgdXBkYXRlKGNvbnZlcnNhdGlvbklkLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgcGFyYW1zID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zKTtcblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBob3N0OiB0aGlzLm9wdGlvbnMuYXBpSG9zdCB8fCBcImFwaS5uZXhtby5jb21cIixcbiAgICAgIHBhdGg6IGAke0NvbnZlcnNhdGlvbnMuUEFUSH0vJHtjb252ZXJzYXRpb25JZH1gLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgYm9keTogcGFyYW1zLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuY3JlZHMuZ2VuZXJhdGVKd3QoKX1gLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdGhpcy5vcHRpb25zLmh0dHBDbGllbnQucmVxdWVzdChjb25maWcsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvcmQgYW4gZXhpc3RpbmcgY29udmVyc2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb252ZXJzYXRpb24gdG8gcmVjb3JkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gUGFyYW1ldGVycyB1c2VkIHdoZW4gcmVjb3JkaW5nIHRoZSBjb252ZXJzYXRpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3QgY29tcGxldGVzLlxuICAgKi9cbiAgcmVjb3JkKGNvbnZlcnNhdGlvbklkLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgcGFyYW1zID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zKTtcblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBob3N0OiB0aGlzLm9wdGlvbnMuYXBpSG9zdCB8fCBcImFwaS5uZXhtby5jb21cIixcbiAgICAgIHBhdGg6IGAke0NvbnZlcnNhdGlvbnMuVjFfUEFUSH0vJHtjb252ZXJzYXRpb25JZH0vcmVjb3JkYCxcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGJvZHk6IHBhcmFtcyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmNyZWRzLmdlbmVyYXRlSnd0KCl9YCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMub3B0aW9ucy5odHRwQ2xpZW50LnJlcXVlc3QoY29uZmlnLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRhIGFuIGV4aXN0aW5nIGNvbnZlcnNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY29udmVyc2F0aW9uIHRvIGRlbGV0ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gICAqL1xuICBkZWxldGUoY29udmVyc2F0aW9uSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgIGhvc3Q6IHRoaXMub3B0aW9ucy5hcGlIb3N0IHx8IFwiYXBpLm5leG1vLmNvbVwiLFxuICAgICAgcGF0aDogYCR7Q29udmVyc2F0aW9ucy5QQVRIfS8ke2NvbnZlcnNhdGlvbklkfWAsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5jcmVkcy5nZW5lcmF0ZUp3dCgpfWAsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLm9wdGlvbnMuaHR0cENsaWVudC5yZXF1ZXN0KGNvbmZpZywgY2FsbGJhY2spO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnZlcnNhdGlvbnM7XG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBRUE7O0FBRUE7O0FBRUE7O0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQSxhQUFOLENBQW9CO0VBQ0gsV0FBSkMsSUFBSSxHQUFHO0lBQ2hCLE9BQU8scUJBQVA7RUFDRDs7RUFFb0IsV0FBVkMsVUFBVSxHQUFHO0lBQ3RCLE9BQU8sc0JBQVA7RUFDRDs7RUFFaUIsV0FBUEMsT0FBTyxHQUFHO0lBQ25CLE9BQU8sbUJBQVA7RUFDRDtFQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0VBQ0VDLFdBQVcsQ0FBQ0MsV0FBRCxFQUE0QjtJQUFBLElBQWRDLE9BQWMsdUVBQUosRUFBSTtJQUNyQyxLQUFLQyxLQUFMLEdBQWFGLFdBQWI7SUFDQSxLQUFLQyxPQUFMLEdBQWVBLE9BQWY7SUFFQTtBQUNKO0FBQ0E7O0lBQ0ksS0FBS0UsT0FBTCxHQUFlLElBQUlDLGdCQUFKLENBQVksS0FBS0YsS0FBakIsRUFBd0IsS0FBS0QsT0FBN0IsQ0FBZjtJQUVBO0FBQ0o7QUFDQTs7SUFDSSxLQUFLSSxNQUFMLEdBQWMsSUFBSUMsZUFBSixDQUFXLEtBQUtKLEtBQWhCLEVBQXVCLEtBQUtELE9BQTVCLENBQWQ7RUFDRDtFQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7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