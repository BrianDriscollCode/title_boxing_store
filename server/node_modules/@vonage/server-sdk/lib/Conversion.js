"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

class Conversion {
  constructor(credentials, options) {
    this.creds = credentials;
    this.options = options;
  }

  voice(message_id, delivered, timestamp, callback) {
    return this.submit("voice", message_id, delivered, timestamp, callback);
  }

  sms(message_id, delivered, timestamp, callback) {
    return this.submit("sms", message_id, delivered, timestamp, callback);
  }

  submit(type, message_id, delivered, timestamp, callback) {
    return this.options.api.postUseQueryString("/conversions/" + type, {
      "message-id": message_id,
      delivered,
      timestamp
    }, this.options.api._addLimitedAccessMessageToErrors(callback, 402));
  }

}

var _default = Conversion;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb252ZXJzaW9uIiwiY29uc3RydWN0b3IiLCJjcmVkZW50aWFscyIsIm9wdGlvbnMiLCJjcmVkcyIsInZvaWNlIiwibWVzc2FnZV9pZCIsImRlbGl2ZXJlZCIsInRpbWVzdGFtcCIsImNhbGxiYWNrIiwic3VibWl0Iiwic21zIiwidHlwZSIsImFwaSIsInBvc3RVc2VRdWVyeVN0cmluZyIsIl9hZGRMaW1pdGVkQWNjZXNzTWVzc2FnZVRvRXJyb3JzIl0sInNvdXJjZXMiOlsiLi4vc3JjL0NvbnZlcnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNsYXNzIENvbnZlcnNpb24ge1xuICBjb25zdHJ1Y3RvcihjcmVkZW50aWFscywgb3B0aW9ucykge1xuICAgIHRoaXMuY3JlZHMgPSBjcmVkZW50aWFscztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgdm9pY2UobWVzc2FnZV9pZCwgZGVsaXZlcmVkLCB0aW1lc3RhbXAsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VibWl0KFwidm9pY2VcIiwgbWVzc2FnZV9pZCwgZGVsaXZlcmVkLCB0aW1lc3RhbXAsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHNtcyhtZXNzYWdlX2lkLCBkZWxpdmVyZWQsIHRpbWVzdGFtcCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5zdWJtaXQoXCJzbXNcIiwgbWVzc2FnZV9pZCwgZGVsaXZlcmVkLCB0aW1lc3RhbXAsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHN1Ym1pdCh0eXBlLCBtZXNzYWdlX2lkLCBkZWxpdmVyZWQsIHRpbWVzdGFtcCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFwaS5wb3N0VXNlUXVlcnlTdHJpbmcoXG4gICAgICBcIi9jb252ZXJzaW9ucy9cIiArIHR5cGUsXG4gICAgICB7IFwibWVzc2FnZS1pZFwiOiBtZXNzYWdlX2lkLCBkZWxpdmVyZWQsIHRpbWVzdGFtcCB9LFxuICAgICAgdGhpcy5vcHRpb25zLmFwaS5fYWRkTGltaXRlZEFjY2Vzc01lc3NhZ2VUb0Vycm9ycyhjYWxsYmFjaywgNDAyKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udmVyc2lvbjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQSxNQUFNQSxVQUFOLENBQWlCO0VBQ2ZDLFdBQVcsQ0FBQ0MsV0FBRCxFQUFjQyxPQUFkLEVBQXVCO0lBQ2hDLEtBQUtDLEtBQUwsR0FBYUYsV0FBYjtJQUNBLEtBQUtDLE9BQUwsR0FBZUEsT0FBZjtFQUNEOztFQUVERSxLQUFLLENBQUNDLFVBQUQsRUFBYUMsU0FBYixFQUF3QkMsU0FBeEIsRUFBbUNDLFFBQW5DLEVBQTZDO0lBQ2hELE9BQU8sS0FBS0MsTUFBTCxDQUFZLE9BQVosRUFBcUJKLFVBQXJCLEVBQWlDQyxTQUFqQyxFQUE0Q0MsU0FBNUMsRUFBdURDLFFBQXZELENBQVA7RUFDRDs7RUFFREUsR0FBRyxDQUFDTCxVQUFELEVBQWFDLFNBQWIsRUFBd0JDLFNBQXhCLEVBQW1DQyxRQUFuQyxFQUE2QztJQUM5QyxPQUFPLEtBQUtDLE1BQUwsQ0FBWSxLQUFaLEVBQW1CSixVQUFuQixFQUErQkMsU0FBL0IsRUFBMENDLFNBQTFDLEVBQXFEQyxRQUFyRCxDQUFQO0VBQ0Q7O0VBRURDLE1BQU0sQ0FBQ0UsSUFBRCxFQUFPTixVQUFQLEVBQW1CQyxTQUFuQixFQUE4QkMsU0FBOUIsRUFBeUNDLFFBQXpDLEVBQW1EO0lBQ3ZELE9BQU8sS0FBS04sT0FBTCxDQUFhVSxHQUFiLENBQWlCQyxrQkFBakIsQ0FDTCxrQkFBa0JGLElBRGIsRUFFTDtNQUFFLGNBQWNOLFVBQWhCO01BQTRCQyxTQUE1QjtNQUF1Q0M7SUFBdkMsQ0FGSyxFQUdMLEtBQUtMLE9BQUwsQ0FBYVUsR0FBYixDQUFpQkUsZ0NBQWpCLENBQWtETixRQUFsRCxFQUE0RCxHQUE1RCxDQUhLLENBQVA7RUFLRDs7QUFwQmM7O2VBdUJGVCxVIn0=